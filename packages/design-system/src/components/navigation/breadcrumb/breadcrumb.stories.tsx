import type { Meta, StoryObj } from "@storybook/react";
import { Breadcrumb } from "./breadcrumb";
import { Home, Users, Settings, FileText } from "lucide-react";

const meta = {
  title: "Navigation/Breadcrumb",
  component: Breadcrumb,
  parameters: {
    layout: "padded",
  },
  tags: ["autodocs"],
  argTypes: {
    separator: {
      control: "text",
      description: "Custom separator between items",
    },
    showHome: {
      control: "boolean",
      description: "Show home link as first item",
    },
    maxItems: {
      control: "number",
      description: "Maximum number of items to show",
    },
  },
} satisfies Meta<typeof Breadcrumb>;

export default meta;
type Story = StoryObj<typeof meta>;

export const Default: Story = {
  args: {
    items: [
      { label: "Dashboard", href: "/dashboard" },
      { label: "Skills", href: "/dashboard/skills" },
      { label: "New Skill" },
    ],
  },
};

export const WithHome: Story = {
  args: {
    showHome: true,
    items: [{ label: "Settings", href: "/settings" }, { label: "Profile" }],
  },
};

export const WithIcons: Story = {
  args: {
    showHome: false,
    items: [
      { label: "Dashboard", href: "/", icon: <Home className="h-4 w-4" /> },
      { label: "Users", href: "/users", icon: <Users className="h-4 w-4" /> },
      {
        label: "Settings",
        href: "/users/settings",
        icon: <Settings className="h-4 w-4" />,
      },
      { label: "Edit Profile" },
    ],
  },
};

export const CustomSeparator: Story = {
  args: {
    separator: ">",
    items: [
      { label: "Products", href: "/products" },
      { label: "Electronics", href: "/products/electronics" },
      { label: "Laptops", href: "/products/electronics/laptops" },
      { label: "Gaming Laptops" },
    ],
  },
};

export const WithMaxItems: Story = {
  args: {
    maxItems: 4,
    items: [
      { label: "Home", href: "/" },
      { label: "Category", href: "/category" },
      { label: "Subcategory", href: "/category/subcategory" },
      { label: "Product Type", href: "/category/subcategory/type" },
      { label: "Specific Product", href: "/category/subcategory/type/product" },
      { label: "Product Details" },
    ],
  },
};

export const AutoGenerated: Story = {
  args: {
    // No items provided - will auto-generate from pathname
  },
  parameters: {
    nextjs: {
      navigation: {
        pathname: "/dashboard/projects/web-app/settings",
      },
    },
  },
};

export const SingleItem: Story = {
  args: {
    showHome: false,
    items: [{ label: "Dashboard" }],
  },
};

export const CustomStyles: Story = {
  args: {
    className: "bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",
    itemClassName: "font-medium",
    separatorClassName: "text-blue-500",
    activeClassName: "text-blue-600",
    items: [
      { label: "Dashboard", href: "/dashboard" },
      { label: "Analytics", href: "/dashboard/analytics" },
      { label: "Reports" },
    ],
  },
};

export const LongLabels: Story = {
  args: {
    items: [
      { label: "Human Resources Management", href: "/hr" },
      { label: "Employee Benefits Administration", href: "/hr/benefits" },
      { label: "Healthcare Plan Selection and Enrollment" },
    ],
  },
};

export const DocumentationExample: Story = {
  args: {
    showHome: false,
    items: [
      { label: "Docs", href: "/docs", icon: <FileText className="h-4 w-4" /> },
      { label: "Components", href: "/docs/components" },
      { label: "Navigation", href: "/docs/components/navigation" },
      { label: "Breadcrumb" },
    ],
  },
};
